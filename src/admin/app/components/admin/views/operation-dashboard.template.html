<div class="row scrollable-content">

    <div class="container-fluid ">

        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">

            <!-- <div class="panel panel-default">

                <div class="panel-heading clearfix">
                    <h4 class="panel-title pull-left">Well Information</h4>
                    <div class="btn-group pull-right">
                        <i type="button" class="pull-right glyphicon"
                            ng-class="{'glyphicon-chevron-down': panelWellIsCollapsed, 'glyphicon-chevron-up': !panelWellIsCollapsed}"
                            ng-click="panelWellIsCollapsed = !panelWellIsCollapsed">
                        </i>
                    </div>
                </div>

                <div class="panel-body" uib-collapse="panelWellIsCollapsed">

                    <table class="table table-sm table-hover table-condensed">
                        <tr>
                            <th>Well</th>
                            <td>{{ operationData.wellContext.currentWell.name }}</td>
                            <td>Plataforma 1</td>
                        </tr>
                        <tr>
                            <th>Water Depth</th>
                            <td ng-if="!well.onshore" colspan="2">{{ operationData.wellContext.currentWell.waterDepth }}</td>
                            <td ng-if="well.onshore" colspan="2">On Shore</td>
                        </tr>
                        <tr>
                            <th>Seabed</th>
                            <td colspan="2"></td>
                        </tr>
                        <tr>
                            <th>BOP TOP</th>
                            <td colspan="2"></td>
                        </tr>
                        <tr>
                            <th>Well Head</th>
                            <td colspan="2"></td>
                        </tr>
                        <tr>
                            <th>Last Shoe Depth</th>
                            <td colspan="2">{{ operationData.wellContext.currentWell.shoeDepth }}</td>
                        </tr>
                    </table>

                </div>

            </div> -->

            <div class="panel panel-default">
            
                <div class="panel-heading clearfix">
                    <h4 class="panel-title pull-left">Operation Information</h4>
                    <div class="btn-group pull-right">
                        <i type="button" class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': panelOperationInfoIsCollapsed, 'glyphicon-chevron-up': !panelOperationInfoIsCollapsed}"
                            ng-click="panelOperationInfoIsCollapsed = !panelOperationInfoIsCollapsed">
                        </i>
                    </div>
                </div>
            
                <div class="panel-body" uib-collapse="panelOperationInfoIsCollapsed">
            
                    <table class="table table-sm table-hover table-condensed">
                        <tr>
                            <th>Section</th>
                            <td>{{ operationData.operationContext.currentOperation.section.name }}</td>
                        </tr>
                        <tr>
                            <th>Operation Name</th>
                            <td colspan="2">{{ operationData.operationContext.currentOperation.name }}</td>
                        </tr>
                        <tr class="success">
                            <th>State</th>
                            <td colspan="2">{{ operationData.stateContext.currentState | xpdStateLabelFilter }}</td>
                        </tr>
                        <tr class="success">
                            <th>Event Type</th>
                            <td colspan="2">{{ operationData.eventContext.currentEvent.eventType | xpdEventLabelFilter }}</td>
                        </tr>
                        <tr class="success">
                            <th>Direction</th>
                            <td colspan="2">
                                <span ng-if="operationData.directionContext.tripin" class="glyphicon glyphicon-arrow-down"></span>
                                <span ng-if="!operationData.directionContext.tripin" class="glyphicon glyphicon-arrow-up"></span>
                                Trip {{ operationData.directionContext.tripin?'In': 'Out' }}
                            </td>
                        </tr>
                        <tr>
                            <th>Joints</th>
                            <td colspan="2">
                                <strong>{{ operationData.jointContext.currentJoint.jointNumber }}</strong> of 
                                {{ operationData.jointContext.numberJoints | json}}
                            </td>
                        <tr>
                            <th>Forecast (Coming soon)</th>
                            <td colspan="2"></td>
                        </tr>
                        <tr>
                            <td colspan="2" class="borderless-top">
                                <div class="progress">
                                    <div class="progress-bar progress-bar-info" role="progressbar" aria-valuemin="0" aria-valuemax="100" style="width: 60%;">
                                        10h
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th>Cumulated Consistency</th>
                            <td colspan="2"></td>
                        </tr>
                        <tr>
                            <td colspan="2" class="borderless-top">

                                <div class="progress">
                                    <div class="progress-bar progress-bar-success" role="progressbar" aria-valuemin="0" aria-valuemax="100" ng-style="{width: accScore + '%'}">
                                        {{accScore | number: 0}}
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </table>
            
                </div>
            
            </div>

            <div class="panel panel-default">

                <div class="panel-heading clearfix">
                    <h4 class="panel-title pull-left">Channels</h4>
                    <div class="btn-group pull-right">
                        <i type="button" class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': panelChanelsIsCollapsed, 'glyphicon-chevron-up': !panelChanelsIsCollapsed}"
                            ng-click="panelChanelsIsCollapsed = !panelChanelsIsCollapsed">
                        </i>
                    </div>
                </div>
            
                <div class="panel-body" uib-collapse="panelChanelsIsCollapsed">
            
                    <table class="table table-sm table-hover table-condensed">
                        <tr>
                            <th>Bit Depth</th>
                            <td>{{ operationData.readingContext.currentReading.bitDepth | number : '.2' }} m</td>
                        </tr>
                        <tr>
                            <th>BlockPosition</th>
                            <td>{{ operationData.readingContext.currentReading.blockPosition | number : '.2' }} m</td>
                        </tr>
                        <tr>
                            <th>Hookload</th>
                            <td>{{ operationData.readingContext.currentReading.hookload | number : '.2' }} klb</td>
                        </tr>
                    </table>

                </div>

            </div>

            <panel-consistency-information
                current-score="operationData.scoreContext.currentScore"
                progress-data="operationData.operationProgressContext.operationProgressData[operationData.stateContext.currentState]">
            </panel-consistency-information>

            <div class="panel panel-default">

                <div class="panel-heading clearfix">
                    <h4 class="panel-title pull-left">
                            Trip {{ operationData.directionContext.tripin?'In': 'Out' }} Sub Operation Forecast</h4>
                    <div class="btn-group pull-right">
                        <i type="button" class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': panelOperationIsCollapsed, 'glyphicon-chevron-up': !panelOperationIsCollapsed}"
                            ng-click="panelOperationIsCollapsed = !panelOperationIsCollapsed">
                        </i>
                    </div>
                </div>

                <div class="panel-body" uib-collapse="panelOperationIsCollapsed">

                    <button class="btn btn-default" ng-click="odController.actionButtonBuildForecast( 'vOptimumLine', 'BOTH' )">
                        Optimum
                    </button>

                    <button class="btn btn-default" ng-click="odController.actionButtonBuildForecast( 'vStandardLine', 'BOTH' )">
                        Standard
                    </button>

                    <button class="btn btn-default" ng-click="odController.actionButtonBuildForecast( 'vPoorLine', 'BOTH' )">
                        Poor
                    </button>

                    <forecast-waterfall
                        horizontal="false"
                        data-data-chart="forecast">
                    </forecast-waterfall>

                </div>

            </div>

            <div class="panel panel-default">
            
                <div class="panel-heading clearfix">
                    <h4 class="panel-title pull-left">Next Activity</h4>
                    <div class="btn-group pull-right">
                        <i type="button" class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': panelNextActivityIsCollapsed, 'glyphicon-chevron-up': !panelNextActivityIsCollapsed}"
                            ng-click="panelNextActivityIsCollapsed = !panelNextActivityIsCollapsed">
                        </i>
                    </div>
                </div>
            
                <div class="panel-body" uib-collapse="panelNextActivityIsCollapsed">
            
                    <div ng-if="operationData.operationQueueContext.nextOperation">
                        <table class="table table-sm table-hover table-condensed">
                            <tr>
                                <th>Section</th>
                                <td>{{ operationData.operationQueueContext.nextOperation.section.name }}</td>
                            </tr>
                            <tr>
                                <th>Name</th>
                                <td>{{ operationData.operationQueueContext.nextOperation.name }}</td>
                            </tr>
                            <tr>
                                <th>Type</th>
                                <td>{{ operationData.operationQueueContext.nextOperation.type | uppercase }}</td>
                            </tr>
                        </table>
                    </div>

                    <div ng-if="!operationData.operationQueueContext.nextOperation">No Operation</div>
            
                </div>
            
            </div>

            <div class="panel panel-default">
            
                <div class="panel-heading clearfix">
                    <h4 class="panel-title pull-left">Current Alarm</h4>
                    <div class="btn-group pull-right">
                        <i type="button" class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': panelCurrentAlarmIsCollapsed, 'glyphicon-chevron-up': !panelCurrentAlarmIsCollapsed}"
                            ng-click="panelCurrentAlarmIsCollapsed = !panelCurrentAlarmIsCollapsed">
                        </i>
                    </div>
                </div>
            
                <div class="panel-body" uib-collapse="panelCurrentAlarmIsCollapsed">
            
                    <div ng-if="operationData.alarmContext.currentAlarm">
                        <table class="table table-sm table-hover table-condensed">
                            <thead>
                                <tr>
                                    <th>{{operationData.alarmContext.currentAlarm.name}}</th>
                                </tr>
                                <tr>
                                    <th>Start</th>
                                    <th>End</th>
                                    <th ng-if="operationData.alarmContext.currentAlarm.isDurationAlarm">Duration</th>
                                    <th ng-if="!operationData.alarmContext.currentAlarm.isDurationAlarm">Restriction</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>{{operationData.alarmContext.currentAlarm.startDepth | number: 2}}(m)</td>
                                    <td>{{operationData.alarmContext.currentAlarm.endDepth | number: 2}}(m)</td>
                                    <td ng-if="operationData.alarmContext.currentAlarm.isDurationAlarm">{{ 3600/operationData.alarmContext.currentAlarm.optimumSpeed | secondsToHourMinutesSeconds}}</td>
                                    <td ng-if="!operationData.alarmContext.currentAlarm.isDurationAlarm">{{operationData.alarmContext.currentAlarm.speedRestriction | number: 2}}(m/s)</td>
                                </tr>
                                <tr>
                                    <td colspan="3">{{operationData.alarmContext.currentAlarm.message}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div ng-if="!operationData.alarmContext.currentAlarm">
                        No Current Alarm
                    </div>
            
                </div>
            
            </div>

            <div class="panel panel-default">
            
                <div class="panel-heading clearfix">
                    <h4 class="panel-title pull-left">Next Alarms</h4>
                    <div class="btn-group pull-right">
                        <i type="button" class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': panelNextAlarmsIsCollapsed, 'glyphicon-chevron-up': !panelNextAlarmsIsCollapsed}"
                            ng-click="panelNextAlarmsIsCollapsed = !panelNextAlarmsIsCollapsed">
                        </i>
                    </div>
                </div>
            
                <div class="panel-body" uib-collapse="panelNextAlarmsIsCollapsed">
            
                    <div ng-if="nextAlarms.length != 0">

                        <table class="table table-sm table-hover table-condensed">
                            <thead>
                                <tr>
                                    <th>Alarms</th>
                                    <th>Start</th>
                                    <th>End</th>
                                    <th>Type</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="(key, alarm) in nextAlarms">
                                    <td>{{alarm.name}}</td>
                                    <td>{{alarm.startDepth | number: 2}}(m)</td>
                                    <td>{{alarm.endDepth | number: 2}}(m)</td>
                                    <td>{{alarm.alarmType | uppercase}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
            
                    <div ng-if="nextAlarms.length == 0">
                        No alarms predicted
                    </div>
            
                </div>
            
            </div>

        </div>

    </div>
    
    <!-- <pre ng-repeat="(key, value) in operationData.forecastContext">{{ key }}</pre> -->
    <!-- <pre>{{ operationData.forecastContext.actualLine | json }}</pre> -->
    <!-- <pre >{{ operationData.suboperationContext.currentSuboperation.tripin | json }}</pre> -->

</div>